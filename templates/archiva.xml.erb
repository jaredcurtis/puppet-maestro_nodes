<?xml version="1.0" encoding="UTF-8"?>
<configuration>
	<version>2</version>
	<repositoryScanning>
		<fileTypes>
			<fileType>
				<id>artifacts</id>
				<patterns>
					<pattern>**/*.pom</pattern>
					<pattern>**/*.jar</pattern>
					<pattern>**/*.ear</pattern>
					<pattern>**/*.war</pattern>
					<pattern>**/*.car</pattern>
					<pattern>**/*.sar</pattern>
					<pattern>**/*.mar</pattern>
					<pattern>**/*.rar</pattern>
					<pattern>**/*.dtd</pattern>
					<pattern>**/*.tld</pattern>
					<pattern>**/*.tar.gz</pattern>
					<pattern>**/*.tar.bz2</pattern>
					<pattern>**/*.zip</pattern>
				</patterns>
			</fileType>
			<fileType>
				<id>indexable-content</id>
				<patterns>
					<pattern>**/*.txt</pattern>
					<pattern>**/*.TXT</pattern>
					<pattern>**/*.block</pattern>
					<pattern>**/*.config</pattern>
					<pattern>**/*.pom</pattern>
					<pattern>**/*.xml</pattern>
					<pattern>**/*.xsd</pattern>
					<pattern>**/*.dtd</pattern>
					<pattern>**/*.tld</pattern>
				</patterns>
			</fileType>
			<fileType>
				<id>auto-remove</id>
				<patterns>
					<pattern>**/*.bak</pattern>
					<pattern>**/*~</pattern>
					<pattern>**/*-</pattern>
				</patterns>
			</fileType>
			<fileType>
				<id>ignored</id>
				<patterns>
					<pattern>**/.htaccess</pattern>
					<pattern>**/KEYS</pattern>
					<pattern>**/*.rb</pattern>
					<pattern>**/*.sh</pattern>
					<pattern>**/.svn/**</pattern>
					<pattern>**/.DAV/**</pattern>
				</patterns>
			</fileType>
		</fileTypes>
		<knownContentConsumers>
			<knownContentConsumer>update-db-artifact</knownContentConsumer>
			<knownContentConsumer>create-missing-checksums</knownContentConsumer>
			<knownContentConsumer>update-db-repository-metadata</knownContentConsumer>
			<knownContentConsumer>validate-checksum</knownContentConsumer>
			<knownContentConsumer>validate-signature</knownContentConsumer>
			<knownContentConsumer>index-content</knownContentConsumer>
			<knownContentConsumer>auto-remove</knownContentConsumer>
			<knownContentConsumer>auto-rename</knownContentConsumer>
			<knownContentConsumer>metadata-updater</knownContentConsumer>
		</knownContentConsumers>
		<invalidContentConsumers>
			<invalidContentConsumer>update-db-bad-content</invalidContentConsumer>
		</invalidContentConsumers>
	</repositoryScanning>
	<databaseScanning>
		<cronExpression>0 0 * * * ?</cronExpression>
		<unprocessedConsumers>
			<unprocessedConsumer>index-artifact</unprocessedConsumer>
			<unprocessedConsumer>update-db-project</unprocessedConsumer>
			<unprocessedConsumer>validate-repository-metadata</unprocessedConsumer>
			<unprocessedConsumer>index-archive-toc</unprocessedConsumer>
			<unprocessedConsumer>update-db-bytecode-stats</unprocessedConsumer>
			<unprocessedConsumer>index-public-methods</unprocessedConsumer>
		</unprocessedConsumers>
		<cleanupConsumers>
			<cleanupConsumer>not-present-remove-db-artifact</cleanupConsumer>
			<cleanupConsumer>not-present-remove-db-project</cleanupConsumer>
			<cleanupConsumer>not-present-remove-indexed</cleanupConsumer>
		</cleanupConsumers>
	</databaseScanning>
	<repositoryGroups>
		<repositoryGroup>
			<id>all</id>
			<repositories>
				<repository>Test.Project.releases</repository>
				<repository>internal</repository>
				<repository>snapshots</repository>
			</repositories>
		</repositoryGroup>
	</repositoryGroups>
	<managedRepositories>
		<managedRepository>
			<location>/var/local/archiva/data/repositories/internal</location>
			<blockRedeployments>true</blockRedeployments>
			<daysOlder>30</daysOlder>
			<id>internal</id>
			<name>Archiva Managed Internal Repository</name>
		</managedRepository>
		<managedRepository>
			<location>/var/local/archiva/data/repositories/Test.Project.releases</location>
			<blockRedeployments>false</blockRedeployments>
			<daysOlder>30</daysOlder>
			<id>Test.Project.releases</id>
			<name>Archiva Managed Releases Repository</name>
		</managedRepository>
		<managedRepository>
			<location>/var/local/archiva/data/repositories/snapshots</location>
			<releases>false</releases>
			<snapshots>true</snapshots>
			<refreshCronExpression>0 0\\,30 * * * ?</refreshCronExpression>
			<daysOlder>30</daysOlder>
			<id>snapshots</id>
			<name>Archiva Managed Snapshot Repository</name>
		</managedRepository>
	</managedRepositories>
	<remoteRepositories>
		<remoteRepository>
			<url><%= @central_repo_url %></url>
			<id>central</id>
			<name>Central Repository</name>
		</remoteRepository>
	</remoteRepositories>
	<proxyConnectors>
		<proxyConnector>
			<order>1</order>
			<sourceRepoId>internal</sourceRepoId>
			<targetRepoId>central</targetRepoId>
			<proxyId/>
			<whiteListPatterns>
				<whiteListPattern>**/*</whiteListPattern>
			</whiteListPatterns>
			<policies>
				<releases>once</releases>
				<checksum>fix</checksum>
				<snapshots>never</snapshots>
				<cache-failures>no</cache-failures>
			</policies>
		</proxyConnector>
	</proxyConnectors>
	<legacyArtifactPaths>
		<legacyArtifactPath>
			<path>jaxen/jars/jaxen-1.0-FCS-full.jar</path>
			<artifact>jaxen:jaxen:1.0-FCS:full:jar</artifact>
		</legacyArtifactPath>
	</legacyArtifactPaths>
</configuration>
